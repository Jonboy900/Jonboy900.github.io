<!DOCTYPE HTML>
<html>
	<head>
		<title>Journey</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>

	<body class="is-preload">

		<!-- Header -->
			<header id="header">
				<div class="inner">
					<a href="index.html" class="image avatar"><img src="images/avatar.jpg" alt="" /></a>
					<h1><strong>A Journey</strong>, of learning<br />
					in to this vast topic.</h1>
				</div>
			</header>

		<!-- Main -->
			<div id="main">
				
				<!-- One -->
					<section id="one">
						<header class="major">
							<h2>A journey of exploration.</h2>
							<p>Exploring the concepts, tecniques and tools that are important to cyber security.</p>  
						</header>
						<p>.</p>
					</section>

				<!-- Seven -->
					<section id="seven">
						<h2>Information Risk Management</h2>
						<p><strong>Cyber Security -</strong> To start with I want to try and define what Cyber Security means. Protecting ourselves against potential threats and examining what it is we are trying to defend. We will need to understand the rules and regulations that we need to abide by to ensure that we are carrying out our obligations to protect the data we hold.</p>
						<p><strong>CIA -</strong> the principles of - Confidentiality - data should be protected from unauthorized access or misuse. Integrity - data must not be altered by unauthorized people. Availability - the data should be available when authorized users want to use it.
						<p><strong>Risk -</strong> as risk is a relatively loose concept we will need to define what risk means to the organization we are trying to protect. We can view risk being made up of three elements a threat, a vulnerability and an asset. Threats could be an external actor, insider staff or even environmental event like fire or an earthquake. A vulnerability is a way those things can affect our system. Lastly the assets we are trying to protect, a database of customers, control of power distribution and so on. To have a risk we must have all three of these if anyone is missing or zero then we don't have a risk.</p> 
						<p><strong>Evaluation -</strong> of the risk we can evaluate the Likelihood of the risk occurring and the Severity of that risk should it happen. When can try to put a value to these so that we can judge what to do about them.</p>
						<p><strong>Acceptance -</strong> when we have identified a risk we can then choose how to deal with risk if the costs of closing the vulnerability are vast and the assets exposed are minor an operation may choose to accept that risk.</p>
						<p><strong>Mitigation -</strong> what can we do to reduce or remove a risk? This offers many possible actions depending on the risk identified. Another way of dealing with mitigation is the ability to transfer the risk to another party.</p> 
						<p><strong>Review -</strong> this entire process needs to be reviewed and repeated as the world is constantly changing.</p>
						<p><strong>Information Security Management System -</strong> ISMS a systemic approach to an organizations information security, the policies, procedures, guidelines, resources and activities involved in achieving this aim.</p>
						<p><strong>ISO 2700 -</strong> the International Organization for Standardization provides a range of accreditation for cyber security we are most interested in the 27000 family. The family contains 27001 which is an auditable section.</p>
					</section>

				<!-- Five -->
					<section id="five">
						<h2>Common Vulnerabilities</h2>
						<p><strong>Identifiyed and defined - </strong> now that we have some idea of what we are trying to defend we can examine some of the threats in this case we will look specifically at some of the vulnerabilities that have been exploited in the past. Previous vulnerabilities have been recorded and identified note this approach does not cover 'zero day' threats but provides a framework for analysising a system exposure to existing threats.</p> 
						<p><strong>CVE's -</strong> Common Vulnerabilities and Exposures. A single unique identifier for a vulnerability these are used by a number of organisation and details the common knowledge about a vulnerability. <a href="metasploit.html">Metasploit</a> the framework for searching and using CVE's. Metasploit is split in to several modules: to look at a system for a weakness, exploit that weakness, modify an attack to hide it. Given a CVE number you can search Metasploit to look at the vulnerability and gain information on the exploit and even how successful the exploit has been. The strength of Metasploit is to link all the elements together so while running a system scam using Nmap within Metasploit the data will populate the Metasploit database looking up exploits as we see the system data.</p>
						<p>The following simulated penetration is against the Try Hack Me room - Bolt. A good habit is recording the steps taken in a file.</p>
						<p>With Metasploit running "msfconsole" to start, we ran a Nmap of the system with "db nmap (target_ip)" to get a view of what running on the target system and we can see a bolt server running on port 8000.</p>
						<p>Taking a look around at the web page with "target_ip:8000" we can see that they have left a password and a user name on the blog pages.<
						<p>By logging in with the above details we can find the version number of the Bolt server. We can now search the Metaspoilt database for the exploits that exist for Bolt "search bolt" will show us 2 CVE's and looking at these we can get some more info with "info exploit name".</p>
						<p>From the above information we can see what the variables are we will need to set to use this exploit, set LHOST, set RHOST ectra. Note you will need to be in the exploit module of msfconsole.</p>
						<p>Within metasploit exploit and having chosen our exploit and set the variables we can now "run" the exploit to gain a reverse shell.</p>
						<p>So to defend this system we would need to look at all the existing exploits that already exist.</p>
					</section>
				
				<!-- Three -->
					<section id="three">
						<h2>Web Application Security</h2>
						<p><strong>Networking -</strong> To explore some of these Security Risks it is worth recapping the some network principles the Open System Interconnection Model see the <a href="osi.html">OSI page.</a> 	
						<p><strong>IP Addressing -</strong> For the internet addressing it is also worth covering some of the <a href="ip.html">Internet Protocols.</a></p> 
						<p><strong>OWASP -</strong> The top 10 Web Application Security Risks. This covers the most common security risks and the steps to improve software development to produce more secure code. It is also interesting that overtime these rankings change. For a full explanations of each of these top ten Risks see the <a href="owasp.html">OWASP page</a></p>
						<p><strong>Burpsuite -</strong> Using the <a href="burp.html">Burpsuite tool</a> I will look at a few of the OWASP risks specifically Injection, Broken Authentication, Sensitive Data Exposure, Broken Access Control and Cross-Site Scripting. Burp can capture and manipulate the traffic between you and the web server you are looking at. Once captured this traffic can be examined and altered or passed to one of the other tools inside the Brup Suite.</p>
						<p><strong>Intercepting web traffic -</strong> Intercepting each and every message between a browser and the internet can be something of an over kill so we will choose when want Burp to intercept these by simply turning the Interceptor on and off. One of the strength of intercepting these messages is the ability to alter them, for example the frontend of the website might disallow some entries into say a search field stopping them being passed to the backend but by intercepting and altering these messages we can bypass that cleansing that the web front end has provided and start passing things to the backend that the site developers had not foreseen.</p>
						<p><strong>SQL injection -</strong> This common vulnerability exploits the query language by using Burp to allow us to inject some unexpected code into a simple web query which the font end of the website would have cleaned. An example might be to alter the search by adding an extra statement that will always return true (' or 1=1--) note SQL uses the (--) to make everything else on the line a comment. The original query for a logon might have looked like this (if email = ? and password = ? then...) changed it might look like this (if email = ? or 1=1-- and password = ? then...) This will have changed the original search into one that returns true. As the backend of the website was expecting the frontend to have cleaned this search it will process it and let us in.</p>
						<p><strong>Broken Authentication -</strong> Here we are going to be using the repeater in Brup to launch a brute force attack by inserting a payload (word list) into a query and repeating the attack using each of the values in out words list. First we will intercept a login attempt and we will then pass that to the repeater, identify the field we want to replace and give the chosen payload we can then set the repeater to return only those attempt that were successful so that we can gain the password.</p>   
						<p><strong>Sensitive Data Exposure -</strong> Here we are looking at things the developers thought were hidden but in fact are available if we know where to look for them. For example if a document is located in a hidden directory but the file link will expose the existence of the directory and we might want to have a look at other files in that directory that the developers thought were hidden. We could also use Dirb to look for these directories.</p>
						<p><strong>Broken Access Control -</strong> This looks at how different users have different access based on their level of permissions. In broken access control we are looking at the escalation of privilege, this can be divided into two main types Horizontal and Vertical. For horizontal escalation we can use our burp interceptor to capture a request and then examine that request and change some of the details to try and get into another users account.</p>
						<p><strong>Cross Site Scripting -</strong> This looks running our code on a report machine. There are three different types of XSS attacks, DOM, Persistent and Reflected. DOM uses the HTML environment to execute code, we need somewhere to insert this code and a search bar might be an obvious option, without the correct input sanitation we can get the code snippet run, even if the frontend of the server did the cleaning we could bypass that with Burp so that the code is still presented to the backend and if that failed to check what it was presented with we can get our code to operate. Persistent XSS will take what we have done in the DOM and make it exist on the server, we need to find somewhere to store that code on the server side, using the Brup interceptor again we will capture a logout request and store our code snippet in the last IP address and get our code installed on the web server. Reflective XXS, I need to do some more work on this one!</p>
					</section>
				
				<!-- Two -->
					<section id="two">
						<h2>Penetration Testing</h2>
						<p>A dedicated tester(s) who will attempt to break an existing system by trying out common vulnerabilities and report if and how they managed to penetrate the system.</p>
						<p><strong>Methodology for Pen Testing</strong> this can be broken down into a five step plan.</p>
						<p><strong>1 - Information Gathering</strong> this covers a range of open source research that might include examining web sites, social media or public records. None of this stage involves any hacking.</p>
						<p><strong>2 - Enumeration/Scanning</strong> an investigation of applications and services that are running on the target system.</p>
						<p><strong>3 - Exploitation</strong> finding and using vulnerabilities that exist on the on system its applications and services.</p>
						<p><strong>4 - Privilege Escalation</strong> with a foothold established then try to escalate the access via moving horizontally into use accounts of the same access level or vertically into another level of permissions group.</p>
						<p><strong>5 - Post Exploitation</strong> what else can achieved, additional information, further host exploitation or access to wider systems. Then the tester may wish to cover the tracks of the penetration removing files and even altering logs. The final stage is the reporting of the steps taken to gain access to a system so that the system owners can improve the security.</p>
						<p>The following simulated penetration is against the Try Hack Me room - Basic Pen testing.</p>
						<p>Starting with an <a href="ip.html">IP address</a> we can establish that we have a basic machine responding with a Ping test.</p>
						<p>Next a network mapper <a href="nmap.html">Nmap</a> can be deployed to see what ports are responding and what sort of services are running on the machine.</p>
						<p>On seeing a http service running on a port we can try inspecting this simply by browsing to the IP address.</p>
						<p>Looking behind the web site by exposing the code using web developer tools found in most browsers, this will also show the comments which might expose some more information.</p>
						<p>Drib can be used to expose some more information, it will scan for hidden directories by scanning common file paths.</p>
						<p>With this information we can browse to look at any hidden directories.</p>
						<p><a href="enum.html">Enum4linux</a> can be deployed to see what else can be discovered, in this case the user names were discovered.</p>
						<p><a href="hydra.html">Hydra</a> can be used to break simple passwords with a brute force approach using a password list like rockyou.txt.</p>
						<p>Once a user name and password have been discovered we can use SSH to login to that machine. More info on SSH can be found on the  <a href="linux.html">Linux page</a>.</p>
						<p>Once inside with a shell we can have a look around using <a href="linux.html">Linux Bash</a> commands like; cd, ls and cat to see what can be found.</p>
						<p>In this case we found a private key that had been encrypted for another user. To attempt breaking an Encryption john the ripper will attempt break the encryption for us.</p>
						<p>With the encrypted password now broken we can try gaining access as that user.</p>
						<p>This covered a range of tools that are all part of the pen tested toolbox that helped provide access to the machine starting with just an IP address, more info on the tools I encountered will be found in the various links.</p>
					</section>
				
				<!-- Four -->
					<section id="four">
						<h2>Defence Analysis (session 3)</h2>
						<p>Here I have started to look at the methods of defence that are available, first a few terms need defining.</p>
						<p><strong>SIEM -</strong> a Security Information and Event Management system, a software solution that is capable of collecting the vast amount of data from multipul sources within an environment in real time.</p>
						<p><strong>Kill Chain -</strong> the Lockheed Martin's kill chain is considered as a way to break down an attack and report it. The steps taken in an attack can be seen to follow these steps: Reconnaissance, Weaponization, Delivery, Exploitation, Installation, Command & Control and Actions on Objectives.</p>
						<p><strong><a href="splunk.html">Splunk</a> -</strong> an industry standard SIEM's tool. The first thing to grasp is that the vast amount of data comes from a wide varriety of logs and the data needs to made into a format that we can search across all the data regardless of its source Splunk adds a standard header to each record to help with this process.</p>
						<p>Splunk provides a range of methods for searching this data and exploring what is taking place. Dashboards can be then set up to show in real time what is happening on the many parts of a bigger system. Searches can also be carried out after an attack has taken place to see what was going on and helping provide solutions to the next level of defence that might be required.</p> 
					</section>
				
				<!-- Six -->
					<section id="six">
						<h2>Malware Analysis</h2>
						<p><strong>File analysis -</strong> Examining malware to see what it is doing. We might have identified a file that is suspicious and without running it what can we find out.</p>
						<p>Understanding malware this can be broken down into two main categories targeted and mass campaigns. Stuxnet was spread far and wide looking like a mass campaigns however it was looking for a particular device in Iran only fired its payload when it found that system. Wannacry was an example of a wide spread attack using the eternal blue exploit.</p>
						<p>While examining malware we can consider the delivery method, the execution, how it maintains persistence and how it propagates across systems.</p>
						<p>Delivery was it on a compromised USB stick or as an attachment in a phishing attack.</p>
						<p>Execution is it encrypting files, is it recording information like keystrokes it is Spyware.</p>
						<p>Maintaining Persistence if it killed by just restarting your machine then its not much of a malware but what is it doing to maintain its presence.</p>
						<p>Propagation if you can infect one machine what can the malware do to infect further devices.</p>
						<p>Signatures are a commonly used method of identified malware, if the malware has already been identified then the file signature might tell us if it is a virus.</p>
						<p>Another way of looking for malware is to look for activity outside of the normal this might be network traffic.</p>
						<p>Analysis of a file can be carried out in two distinct methods Static and Dynamic. Static will not involve running the code while Dynamic will run the file in a safe environment.</p>
						<p><strong>Static Analysis -</strong> a few of the tools that can be deployed for static analysis.</p>
						<p>MD5 checksums these are a cryptographic fingerprint of the file so we can check the checksum of a file on websites like "Virustotal" to see if the MD5 has already been identified as a virus. The tool "HashTab" tool which will calculate the files MD5 sum directly within Window explorer this MD5 checksum can simple be checked with "Virustotal".</p>
						<p>Virustotal is capable for looking at files URLs or hashes and informing you of what it knows about that file. It can give the real name of the file, the authors of the file, the actions that the file might carry out. Virustotal draws on a wide range of sources for its information and this spread of information will give us a very good idea about the reliability of the data.</p>
						<p><strong>Obfuscation/Packing -</strong>  There are legitimate and malicious reasons as to why you might want to prevent decompiling of their code. The "PeID" tool will identify the packer used. "IDA Freeware" tool can be used to disassemble the code however a packed file will give us little information.</p>
						<p><strong>Strings -</strong> By looking at the ASCII text strings in a program we can learn something about what it might be doing. Windows has a tool for this "PE Explorer".</p>
						<p><strong>Dynamic Analysis -</strong> at this point I have not carried out any dynamic analysis.</p>
					</section>
						
			</div>

		<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<ul class="actions">
						<li><a href="Cyber.html" class="button">Back</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.poptrox.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>



